#!/usr/bin/env bash

# remove this asdf-exec file when releasing >=0.6.5
printf "asdf is self upgrading shims to new asdf exec ...\\n"

asdf_dir="${0%/*/*/*}"
# shellcheck source=lib/utils.bash
. "$asdf_dir/lib/utils.bash"
rm "$ASDF_DATA_DIR"/shims/*
"$asdf_dir"/bin/asdf reshim
shim_name=${2%/}
shim_name=${shim_name##*/}

printf "asdf: now running %s\\n" "$shim_name"

exec "$shim_name" "${@:3}"
